*{ Currently a user must be logged in before a new user can be created.
Thus the test tests also normal log in }*

#{selenium 'Test Register a new user'}

	clearSession()
    open('/login')
    assertTextPresent('Username')
    assertTextPresent('Password')
    type('username','steve')
    type('password','doocy')
    clickAndWait('signin')
    
    assertTextPresent('logged in as steve')
    clickAndWait('link=add user')
    
    assertTextPresent('username')
    assertTextPresent('password')
    assertTextPresent('first name')
    assertTextPresent('name')
	type('uname','ptolemy')
	type('pass','alexandria')
	clickAndWait('css=input[type=submit]')
	
	assertTextPresent('gretchen')
	assertTextPresent('brian')
	assertTextPresent('ptolemy')
	
	clickAndWait('link=logout')
	assertTextPresent('You have been logged out')
    assertTextPresent('Username')
    assertTextPresent('Password')
    
    type('username','ptolemy')
    type('password','alexandria')
    clickAndWait('signin')
    
    assertTextPresent('logged in as ptolemy')
        
    
#{/selenium}